<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>W01fh4cker&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="Doubt is the key to knowledge.">
<meta property="og:type" content="website">
<meta property="og:title" content="W01fh4cker&#39;s blog">
<meta property="og:url" content="https://w01fh4cker.github.io/index.html">
<meta property="og:site_name" content="W01fh4cker&#39;s blog">
<meta property="og:description" content="Doubt is the key to knowledge.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="W01fh4cker">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="W01fh4cker&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">W01fh4cker</h5>
          <a href="mailto:undefined" class="mail">
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect active">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/w01fh4cker" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">W01fh4cker&#39;s blog</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header index-header">

    <div class="container fade-scale">
        <h1 class="title">W01fh4cker&#39;s blog</h1>
        <h5 class="subtitle">
            
                
            
        </h5>
    </div>

    


</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-LearnJavaMemshellFromZero"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2024-12-30 14:04:53" datetime="2024-12-30T06:04:53.000Z"  itemprop="datePublished">2024-12-30</time>

        


    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2024/12/30/LearnJavaMemshellFromZero/">完全零基础从0到1掌握Java内存马</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        
                
                    
                    
                
                
             

本文目录：

一、前言
二、前置知识
2.1 Servlet容器与Engine、Host、Context和Wrapper
2.2 编写一个简单的servlet
2.3 从代码层面看servlet初始化与装载流程
2.3.1 servlet初始化流程分析
2.3.2 servlet装载流程分析


2.4 Filter容器与FilterDefs、FilterConfigs、FilterMaps、FilterChain
2.5 编写一个简单的Filter
2.6 从代码层面分析Filter运行的整体流程
2.7 Listener简单介绍
2.8 编写一个简单的Listener（ServletRequestListener）
2.9 从代码层面分析Listener运行的整体流程
2.10 简单的spring项目搭建
2.10.1 编写一个简单的Spring Controller
2.10.2 编写一个简单的Spring Interceptor
2.10.3 编写一个简单的Spring WebFlux的Demo（基于Netty）


2.11 Spring MVC介绍
2.11.1 Spring MVC九大组件
2.11.2 简单的源码分析
2.11.2.1 九大组件的初始化
2.11.2.2 url和Controller的关系的建立
2.11.2.3 Spring Interceptor引入与执行流程分析




2.12 Spring WebFlux介绍与代码调试分析
2.12.1 什么是Mono？
2.12.2 什么是Flux？
2.12.3 Spring WebFlux启动过程分析
2.12.4 Spring WebFlux请求处理过程分析
2.12.5 Spring WebFlux过滤器WebFilter运行过程分析


2.13 Tomcat Valve介绍与运行过程分析
2.13.1 Valve与Pipeline
2.13.2 编写一个简单Tomcat Valve的demo
2.13.3 Tomcat Valve打入内存马思路分析


2.14 Tomcat Upgrade介绍与打入内存马思路分析
2.14.1 编写一个简单的Tomcat Upgrade的demo
2.14.1.1 利用SpringBoot搭建
2.14.1.2 利用Tomcat搭建


2.14.2 Tomcat Upgrade内存马介绍与相关代码调试分析


2.15 Tomcat Executor内存马介绍与打入内存马思路分析
2.15.1
2.15.2 Tomcat Executor内存马介绍与代码调试分析
2.15.2.1 Endpoint五大组件
2.15.2.2 Endpoint分类
2.15.2.3 Executor相关代码分析






三、传统Web型内存马
3.1 Servlet内存马
3.1.1 简单的servlet内存马demo编写
3.1.2 servlet内存马demo代码分析
3.1.3 关于StandardContext、ApplicationContext、ServletContext的理解


3.2 Filter内存马
3.2.1 简单的filter内存马demo编写
3.2.2 servlet内存马demo代码分析
3.2.3 tomcat6下filter内存马的编写


3.3 Listener内存马
3.3.1 简单的Listener内存马demo编写
3.3.2 Listener内存马demo代码分析




四、Spring MVC框架型内存马
4.1 Spring Controller型内存马
4.1.1 简单的Spring Controller型内存马demo编写
4.1.2 Spring Controller型内存马demo代码分析


4.2 Spring Interceptor型内存马
4.3 Spring WebFlux内存马
4.3.1 简单的Spring WebFlux内存马demo编写
4.3.2 Spring WebFlux内存马demo代码分析




五、中间件型内存马
5.1 Tomcat Valve型内存马
5.2 Tomcat Upgrade内存马
5.3 Tomcat Executor内存马


六、致谢

    

        <a href="/2024/12/30/LearnJavaMemshellFromZero/" class="post-more waves-effect waves-button">
            Continue reading...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Memshell/" rel="tag">Memshell</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    

</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>W01fh4cker &copy; 2015 - 2024</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://w01fh4cker.github.io/&title=W01fh4cker's blog&pic=https://w01fh4cker.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://w01fh4cker.github.io/&title=W01fh4cker's blog&source=Doubt is the key to knowledge." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://w01fh4cker.github.io/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=W01fh4cker's blog&url=https://w01fh4cker.github.io/&via=https://w01fh4cker.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://w01fh4cker.github.io/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABv0lEQVR42u3aMW7EMAwEQP//0057TXxLUlIcYFQFgc8eNQKX1HXF6/5Yn/95fiZ557Vj4eLijrn34/rtmeS3q96Di4v7V9zng+bk319suLi4r+Q+Fz2/HUDPRRIuLu5/5yZBKN8ALi7um7lJaEnaJTl6e1bDxcUdcKvNzd2BZ1l/FxcXt8W9i6u3sVULFxf3DDc/UHoBJo9Phe/i4uJu5iZHVV6gJFvqVTJRlwUXF3cRNxmKrM0gk3fi4uKe4eZXpuYFTRKWvrwNFxf3CHdtQzMvmCaXNnBxcXdzq82Oagt1coRFtRguLu4Gbi/8VJuekwsWC7IaLi7uoq/koSi/bpWD8mthuLi4O7j5PpIUNS+VyuEHFxd3AzdnVYco1VDUbM3g4uJu4/YuWFS30au/Rv1dXFzcMbdX3PQiUO95XFzc89xJsGlOd1sDGFxc3N3cu7iu4spbpdH7cXFxj3CrH157FSNv1JY3g4uLO+ZWw0wylK0WPUmTBRcX9zw3R8wDUn7kfRml4OLivoZbJeaxJ2qm4OLivpKbFCLJsKTaQMHFxT3PXXVtYtJAibaHi4t7hDsZiuTXsyYDV1xc3IPcHygvCwnIJaqhAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
